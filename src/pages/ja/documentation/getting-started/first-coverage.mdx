# æœ€åˆã®ã‚«ãƒãƒ¬ãƒƒã‚¸ã‚’å ±å‘Šã™ã‚‹

æœ€åˆã®ã‚«ãƒãƒ¬ãƒƒã‚¸ã‚’å ±å‘Šã™ã‚‹æ–¹æ³•ã‚’ä¸€æ­©ä¸€æ­©èª¬æ˜ã—ã¾ã™ã€‚

## ã‚³ãƒ¼ãƒ‰ã®ã‚¤ãƒ³ã‚¹ãƒ„ãƒ«ãƒ¡ãƒ³ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³

ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã®ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ãƒªãƒ³ã‚°åŒ–ã€ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«åŒ–ã«ã¯babelãŒæ¬ ã‹ã›ã¾ã›ã‚“ã€‚ã‚‚ã—ã‚ãªãŸã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãŒãã†ãªã‚‰ã€äºŒã¤ã®babelãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹ã ã‘ã§ç´ æ—©ãå§‹ã‚ã‚‰ã‚Œã¾ã™ã€‚
[`babel-plugin-istanbul`](https://github.com/istanbuljs/babel-plugin-istanbul)ã¯istanbulå…¬å¼ãŒç¶­æŒã™ã‚‹babelãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã§ã™ã€‚
[`babel-plugin-canyon`](https://github.com/canyon-project/babel-plugin-canyon)ã¯ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæƒ…å ±ã‚’è¨­å®šã—ã‚„ã™ãã™ã‚‹ãŸã‚ã®babelãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã§ã™ã€‚

### ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

```shell copy
npm i babel-plugin-istanbul babel-plugin-canyon -D
```

### è¨­å®š

[babel](https://babeljs.io/docs/config-files#configuration-file-types)ã§è¨­å®šã—ã¾ã™ã€‚
```json
{
  "plugins": [
    "istanbul",
    "canyon"
  ]
}
```

babelã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’èµ·å‹•ã—ãŸã‚‰ã€ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã«**window.\_\_canyon\_\_**ã¨**window.\_\_coverage\_\_**ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚ä¸‹ã®ç”»åƒã®ã‚ˆã†ã«è¡¨ç¤ºã•ã‚Œã‚Œã°ã€ã‚³ãƒ¼ãƒ‰ã®ã‚¤ãƒ³ã‚¹ãƒ„ãƒ«ãƒ¡ãƒ³ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã«æˆåŠŸã—ã¾ã—ãŸã€‚

import LocalizedLink from "../../../../components/LocalizedLink";

<Callout emoji="ğŸ’¡">
  ãƒ­ãƒ¼ã‚«ãƒ«é–‹ç™ºç’°å¢ƒã§ã¯Canyonã®å¤‰æ•°ã¯å­˜åœ¨ã—ã¾ã›ã‚“ã€‚CIç’°å¢ƒã§ã®ã¿ç’°å¢ƒå¤‰æ•°ã‚’æ¤œå‡ºã—ã¾ã™ã€‚

  1. ã‚‚ã£ã¨ <LocalizedLink href={'/documentation/ecosystem/babel-plugin-canyon'}>babel-plugin-canyon</LocalizedLink> ã®è¨­å®šæ–¹æ³•ã€‚

  2. Canyonã®å„å¤‰æ•°ã®æ„å‘³ã¯ <LocalizedLink href={'/documentation/reference/api'}>å¤‰æ•°èª¬æ˜</LocalizedLink>ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚
</Callout>

![coverage-canyon-console](/static/documentation/getting-started/first-coverage/coverage-canyon-console.png)



## ãƒ“ãƒ«ãƒ‰æ™‚ã®ç’°å¢ƒå¤‰æ•°è¨­å®š

CIç’°å¢ƒã§ã¯ã€ã‚«ãƒãƒ¬ãƒƒã‚¸ãƒ‡ãƒ¼ã‚¿ã‚’å ±å‘Šã™ã‚‹ãŸã‚ã«ã„ãã¤ã‹ã®ç’°å¢ƒå¤‰æ•°ã‚’è¨­å®šã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚

### DSNã¨REPORTERã®å–å¾—

- DSN: CanyonãŒæä¾›ã™ã‚‹å ±å‘Šã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã€\{\{url\}\}/coverage/clientã€ã“ã“ã§urlã¯Canyonã®ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã‚µãƒ¼ãƒ“ã‚¹ã®ã‚¢ãƒ‰ãƒ¬ã‚¹ã§ã™ã€‚
- REPORTER: ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒˆãƒ¼ã‚¯ãƒ³ã§ã€ç•°ãªã‚‹ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚’åŒºåˆ¥ã—ã¾ã™ã€‚ãƒ¦ãƒ¼ã‚¶ãƒ¼è¨­å®šãƒšãƒ¼ã‚¸ã§ç¢ºèªã§ãã¾ã™ã€‚

![setting](/static/documentation/getting-started/first-coverage/setting.png)

### CIãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ã®å¤‰æ•°è¨­å®š

![gitlab](/static/documentation/getting-started/first-coverage/gitlab-var-config.png)

import { Callout } from 'nextra/components'

<Callout type="info" emoji="â„¹ï¸">
  Branchã€SHAã€Project IDã¯è¨­å®šä¸è¦ã§ã€è‡ªå‹•çš„ã«ç’°å¢ƒå¤‰æ•°ã‚’èª­ã¿å–ã‚Šã¾ã™ã€‚ç§ãŸã¡ã¯gitlab pipelineã€github actionãªã©ã®CIãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ã«å¯¾å¿œã—ã¦ã„ã¾ã™ã€‚
  å…·ä½“çš„ã«ã¯ <LocalizedLink href={'/documentation/reference/supported-ci-providers'}>ã‚µãƒãƒ¼ãƒˆã•ã‚Œã¦ã„ã‚‹providerãƒªã‚¹ãƒˆ</LocalizedLink>ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚
</Callout>






## ãƒ†ã‚¹ãƒˆã¨å ±å‘Š

### UIè‡ªå‹•åŒ–

ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¯cypressã€playwrightã€puppeteerã€seleniumãªã©ã€ã©ã®UIè‡ªå‹•åŒ–ãƒ†ã‚¹ãƒˆãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã‚’ä½¿ã£ã¦ã‚‚ã„ã„ã§ã™ã€‚ãƒ†ã‚¹ãƒˆãŒçµ‚ã‚ã£ãŸã‚‰ã€ã‚«ãƒãƒ¬ãƒƒã‚¸ãƒ‡ãƒ¼ã‚¿ã‚’å ±å‘Šã™ã‚‹ã ã‘ã§ã™ã€‚

å…·ä½“çš„ã«ã¯
<LocalizedLink href={'/documentation/end-to-end-testing/playwright'}>UIè‡ªå‹•åŒ–ãƒ†ã‚¹ãƒˆ</LocalizedLink>
ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚


### æ‰‹å‹•ã§å ±å‘Š

Chromeãƒ–ãƒ©ã‚¦ã‚¶ã§ã¯ã€Chromeãƒ—ãƒ©ã‚°ã‚¤ãƒ³[canyon-extension](https://chromewebstore.google.com/detail/canyon-extension/omnpafdjidgpdmlimbangcjjaaodbeof?hl=zh-CN&utm_source=ext_sidebar)ã‚’ä½¿ã£ã¦æ‰‹å‹•ã§ã‚«ãƒãƒ¬ãƒƒã‚¸ãƒ‡ãƒ¼ã‚¿ã‚’å ±å‘Šã§ãã¾ã™ã€‚

![chrome-crx](/static/documentation/getting-started/first-coverage/chrome-crx.png)

## ãƒ¬ãƒãƒ¼ãƒˆã®ç¢ºèª

Canyonã¯è±Šå¯Œãªãƒ¬ãƒãƒ¼ãƒˆã‚’æä¾›ã—ã¦ãŠã‚Šã€ã‚«ãƒãƒ¬ãƒƒã‚¸ã®æ¦‚è¦ã¨è©³ç´°ã‚’ç¢ºèªã§ãã¾ã™ã€‚

### æ¦‚è¦

![report-overview](/static/documentation/getting-started/first-coverage/report-overview.png)

### è©³ç´°

![report-detail](/static/documentation/getting-started/first-coverage/report-detail.png)
